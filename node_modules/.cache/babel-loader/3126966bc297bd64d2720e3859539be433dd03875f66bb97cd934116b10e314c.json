{"ast":null,"code":"import{useEffect,useState}from'react';import{Card,CardContent,Typography,Button,Box}from'@mui/material';import axios from'axios';import{useNavigate}from'react-router-dom';import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";const ProfileCard=()=>{const[profile,setProfile]=useState(null);const navigate=useNavigate();useEffect(()=>{axios.get(\"\".concat(process.env.REACT_APP_API_URL,\"/profile\")).then(res=>{if(Array.isArray(res.data)&&res.data.length>0){setProfile(res.data[0]);// Grab the first profile\n}else{setProfile(null);}}).catch(()=>{setProfile(null);});},[]);const handleDelete=async()=>{if(profile!==null&&profile!==void 0&&profile.id){await axios.delete(\"\".concat(process.env.REACT_APP_API_URL,\"/profile/\").concat(profile.id));navigate('/');}};return/*#__PURE__*/_jsx(Box,{sx:{maxWidth:400,mx:'auto',mt:5},children:profile?/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsxs(Typography,{variant:\"h6\",children:[\"Name: \",profile.name]}),/*#__PURE__*/_jsxs(Typography,{children:[\"Email: \",profile.email]}),/*#__PURE__*/_jsxs(Typography,{children:[\"Age: \",profile.age]}),/*#__PURE__*/_jsx(Button,{variant:\"outlined\",sx:{mt:2,mr:2},onClick:()=>navigate('/'),children:\"Edit\"}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"error\",sx:{mt:2},onClick:handleDelete,children:\"Delete\"})]})}):/*#__PURE__*/_jsx(Typography,{variant:\"body1\",children:\"No profile found. Please create one.\"})});};export default ProfileCard;","map":{"version":3,"names":["useEffect","useState","Card","CardContent","Typography","Button","Box","axios","useNavigate","jsxs","_jsxs","jsx","_jsx","ProfileCard","profile","setProfile","navigate","get","concat","process","env","REACT_APP_API_URL","then","res","Array","isArray","data","length","catch","handleDelete","id","delete","sx","maxWidth","mx","mt","children","variant","name","email","age","mr","onClick","color"],"sources":["C:/Users/HP-prashanth/profile-manager/src/components/ProfileCard.tsx"],"sourcesContent":["import { useEffect, useState } from 'react';\r\nimport { Card, CardContent, Typography, Button, Box } from '@mui/material';\r\nimport axios from 'axios';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\ntype ProfileType = {\r\n  id: number;\r\n  name: string;\r\n  email: string;\r\n  age?: number;\r\n};\r\n\r\nconst ProfileCard = () => {\r\n  const [profile, setProfile] = useState<ProfileType | null>(null);\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    axios.get(`${process.env.REACT_APP_API_URL}/profile`)\r\n      .then((res) => {\r\n        if (Array.isArray(res.data) && res.data.length > 0) {\r\n          setProfile(res.data[0]); // Grab the first profile\r\n        } else {\r\n          setProfile(null);\r\n        }\r\n      })\r\n      .catch(() => {\r\n        setProfile(null);\r\n      });\r\n  }, []);\r\n\r\n  const handleDelete = async () => {\r\n    if (profile?.id) {\r\n      await axios.delete(`${process.env.REACT_APP_API_URL}/profile/${profile.id}`);\r\n      navigate('/');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Box sx={{ maxWidth: 400, mx: 'auto', mt: 5 }}>\r\n      {profile ? (\r\n        <Card>\r\n          <CardContent>\r\n            <Typography variant=\"h6\">Name: {profile.name}</Typography>\r\n            <Typography>Email: {profile.email}</Typography>\r\n            <Typography>Age: {profile.age}</Typography>\r\n            <Button variant=\"outlined\" sx={{ mt: 2, mr: 2 }} onClick={() => navigate('/')}>Edit</Button>\r\n            <Button variant=\"contained\" color=\"error\" sx={{ mt: 2 }} onClick={handleDelete}>Delete</Button>\r\n          </CardContent>\r\n        </Card>\r\n      ) : (\r\n        <Typography variant=\"body1\">No profile found. Please create one.</Typography>\r\n      )}\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default ProfileCard;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}