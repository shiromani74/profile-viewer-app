{"ast":null,"code":"import _objectSpread from\"C:/Users/HP-prashanth/profile-manager/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{useState}from'react';import{useDispatch}from'react-redux';import{setProfile}from'../features/profileSlice';import{TextField,Button,Box,Typography,Snackbar,Alert}from'@mui/material';import axios from'axios';import{useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ProfileForm=()=>{const[firstName,setFirstName]=useState('');const[lastName,setLastName]=useState('');const[email,setEmail]=useState('');const[age,setAge]=useState('');const[snackbar,setSnackbar]=useState({open:false,message:'',severity:'success'});const navigate=useNavigate();const dispatch=useDispatch();const handleSubmit=async()=>{const emailRegex=/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;if(!firstName.trim()){setSnackbar({open:true,message:'First name is required.',severity:'error'});return;}if(firstName.trim().length<2){setSnackbar({open:true,message:'First name must be at least 2 characters.',severity:'error'});return;}if(!lastName.trim()){setSnackbar({open:true,message:'Last name is required.',severity:'error'});return;}if(lastName.trim().length<2){setSnackbar({open:true,message:'Last name must be at least 2 characters.',severity:'error'});return;}if(!email.trim()){setSnackbar({open:true,message:'Email is required.',severity:'error'});return;}if(!emailRegex.test(email.trim())){setSnackbar({open:true,message:'Please enter a valid email address.',severity:'error'});return;}if(age.trim()){const ageValue=Number(age);if(isNaN(ageValue)||ageValue<=0||!Number.isInteger(ageValue)){setSnackbar({open:true,message:'Please enter a valid age.',severity:'error'});return;}}const profileData={firstName:firstName.trim(),lastName:lastName.trim(),email:email.trim(),age:age.trim()?Number(age):undefined};try{await axios.post(\"\".concat(process.env.REACT_APP_API_URL,\"/profile\"),profileData,{headers:{'Content-Type':'application/json'}});localStorage.setItem('profile',JSON.stringify(profileData));dispatch(setProfile(profileData));setSnackbar({open:true,message:'Profile saved successfully!',severity:'success'});setTimeout(()=>navigate('/profile'),1500);}catch(error){setSnackbar({open:true,message:'Something went wrong. Please try again.',severity:'error'});}};return/*#__PURE__*/_jsxs(Box,{sx:{maxWidth:400,mx:'auto',mt:5},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",fontWeight:600,align:\"center\",gutterBottom:true,children:\"Create Profile\"}),/*#__PURE__*/_jsx(TextField,{label:\"First Name\",fullWidth:true,margin:\"normal\",value:firstName,onChange:e=>setFirstName(e.target.value)}),/*#__PURE__*/_jsx(TextField,{label:\"Last Name\",fullWidth:true,margin:\"normal\",value:lastName,onChange:e=>setLastName(e.target.value)}),/*#__PURE__*/_jsx(TextField,{label:\"Email\",fullWidth:true,margin:\"normal\",value:email,onChange:e=>setEmail(e.target.value)}),/*#__PURE__*/_jsx(TextField,{label:\"Age (optional)\",fullWidth:true,margin:\"normal\",value:age,onChange:e=>setAge(e.target.value)}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",onClick:handleSubmit,sx:{mt:2},children:\"Submit\"}),/*#__PURE__*/_jsx(Snackbar,{open:snackbar.open,autoHideDuration:3000,onClose:()=>setSnackbar(_objectSpread(_objectSpread({},snackbar),{},{open:false})),children:/*#__PURE__*/_jsx(Alert,{severity:snackbar.severity,sx:{width:'100%'},children:snackbar.message})})]});};export default ProfileForm;","map":{"version":3,"names":["useState","useDispatch","setProfile","TextField","Button","Box","Typography","Snackbar","Alert","axios","useNavigate","jsx","_jsx","jsxs","_jsxs","ProfileForm","firstName","setFirstName","lastName","setLastName","email","setEmail","age","setAge","snackbar","setSnackbar","open","message","severity","navigate","dispatch","handleSubmit","emailRegex","trim","length","test","ageValue","Number","isNaN","isInteger","profileData","undefined","post","concat","process","env","REACT_APP_API_URL","headers","localStorage","setItem","JSON","stringify","setTimeout","error","sx","maxWidth","mx","mt","children","variant","fontWeight","align","gutterBottom","label","fullWidth","margin","value","onChange","e","target","onClick","autoHideDuration","onClose","_objectSpread","width"],"sources":["C:/Users/HP-prashanth/profile-manager/src/components/ProfileForm.tsx"],"sourcesContent":["import { useState } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { setProfile } from '../features/profileSlice';\r\nimport { TextField, Button, Box, Typography, Snackbar, Alert } from '@mui/material';\r\nimport axios from 'axios';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\n\r\nconst ProfileForm = () => {\r\n  const [firstName, setFirstName] = useState('');\r\n  const [lastName, setLastName] = useState('');\r\n  const [email, setEmail] = useState('');\r\n  const [age, setAge] = useState('');\r\n  const [snackbar, setSnackbar] = useState({ open: false, message: '', severity: 'success' });\r\n  const navigate = useNavigate();\r\n  const dispatch = useDispatch();\r\n\r\n  const handleSubmit = async () => {\r\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n\r\n    if (!firstName.trim()) {\r\n      setSnackbar({ open: true, message: 'First name is required.', severity: 'error' });\r\n      return;\r\n    }\r\n\r\n    if (firstName.trim().length < 2) {\r\n      setSnackbar({ open: true, message: 'First name must be at least 2 characters.', severity: 'error' });\r\n      return;\r\n    }\r\n\r\n    if (!lastName.trim()) {\r\n      setSnackbar({ open: true, message: 'Last name is required.', severity: 'error' });\r\n      return;\r\n    }\r\n\r\n    if (lastName.trim().length < 2) {\r\n      setSnackbar({ open: true, message: 'Last name must be at least 2 characters.', severity: 'error' });\r\n      return;\r\n    }\r\n\r\n    if (!email.trim()) {\r\n      setSnackbar({ open: true, message: 'Email is required.', severity: 'error' });\r\n      return;\r\n    }\r\n\r\n    if (!emailRegex.test(email.trim())) {\r\n      setSnackbar({ open: true, message: 'Please enter a valid email address.', severity: 'error' });\r\n      return;\r\n    }\r\n\r\n    if (age.trim()) {\r\n      const ageValue = Number(age);\r\n      if (isNaN(ageValue) || ageValue <= 0 || !Number.isInteger(ageValue)) {\r\n        setSnackbar({ open: true, message: 'Please enter a valid age.', severity: 'error' });\r\n        return;\r\n      }\r\n    }\r\n\r\n    const profileData = {\r\n      firstName: firstName.trim(),\r\n      lastName: lastName.trim(),\r\n      email: email.trim(),\r\n      age: age.trim() ? Number(age) : undefined,\r\n    };\r\n\r\n    try {\r\n      await axios.post(`${process.env.REACT_APP_API_URL}/profile`, profileData, {\r\n        headers: { 'Content-Type': 'application/json' },\r\n      });\r\n\r\n      localStorage.setItem('profile', JSON.stringify(profileData));\r\n      dispatch(setProfile(profileData)); \r\n\r\n      setSnackbar({ open: true, message: 'Profile saved successfully!', severity: 'success' });\r\n      setTimeout(() => navigate('/profile'), 1500);\r\n    } catch (error) {\r\n      setSnackbar({ open: true, message: 'Something went wrong. Please try again.', severity: 'error' });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Box sx={{ maxWidth: 400, mx: 'auto', mt: 5 }}>\r\n      <Typography variant=\"h4\" fontWeight={600} align=\"center\" gutterBottom>\r\n        Create Profile\r\n      </Typography>\r\n\r\n      <TextField label=\"First Name\" fullWidth margin=\"normal\" value={firstName} onChange={(e) => setFirstName(e.target.value)} />\r\n      <TextField label=\"Last Name\" fullWidth margin=\"normal\" value={lastName} onChange={(e) => setLastName(e.target.value)} />\r\n      <TextField label=\"Email\" fullWidth margin=\"normal\" value={email} onChange={(e) => setEmail(e.target.value)} />\r\n      <TextField label=\"Age (optional)\" fullWidth margin=\"normal\" value={age} onChange={(e) => setAge(e.target.value)} />\r\n\r\n      <Button variant=\"contained\" onClick={handleSubmit} sx={{ mt: 2 }}>\r\n        Submit\r\n      </Button>\r\n\r\n      <Snackbar open={snackbar.open} autoHideDuration={3000} onClose={() => setSnackbar({ ...snackbar, open: false })}>\r\n        <Alert severity={snackbar.severity as 'success' | 'error'} sx={{ width: '100%' }}>\r\n          {snackbar.message}\r\n        </Alert>\r\n      </Snackbar>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default ProfileForm;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}